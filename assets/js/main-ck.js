$(document).ready(function(){function e(e,t){$.get("index.html",function(e){var n=$("<div>"+e+"</div>"),r=n.find("section").html();$("section").html(r).addClass(t+" opacity")})}function n(){w=0;$("home .homeTitle h2 span").css({color:"rgba(255,255,255,.8)"});return w}$("a[data-role='ajax']").click(function(t){t.preventDefault();if(Modernizr.history){$(".home .homeMenu li a").not(this).addClass("homeMenu_jsActive");var n=$(this),r=$(this).parents("section");r.removeClass("opacity");window.setTimeout(function(){r.removeClass();var t=n.attr("href"),i=t.slice(0,-1);window.history.pushState(null,"",t);e(t,i)},300)}else console.log("no Modernizr History")});$(window).on("popstate",function(t){this._popStateEventCount++;var n=window.location.pathname;n=n.split("/");n=n.filter(function(e){return e!=""});$("section").removeClass("opacity");window.setTimeout(function(){$("section").removeClass();if(n.length>1)var t=n[n.length-1],r=t+"/";else var r="../",t="home";e(r,t)},300)});var t=[$(".home .homeTitle p:first-of-type").text().split(""),$(".home .homeTitle h1").text().split(""),$(".home .homeTitle p:last-of-type").text().split(""),$(".home .homeTitle h2").text().split("")];$(".home .homeTitle").empty().delay(1e3).queue(function(){function i(e,r){function s(e,r){var o;switch(e){case 0:o="p:first-of-type";break;case 1:o="h1";break;case 2:o="p:last-of-type";break;case 3:o="h2"}setTimeout(function(){if(t[e][r]==" "){r++;$(".home .homeTitle "+o).append(" <span>"+t[e][r]+"</span>")}else $(".home .homeTitle "+o).append("<span>"+t[e][r]+"</span>");$(".home .homeTitle "+o+" span:last-of-type").css({opacity:"0","-webkit-transition":"opacity .4s ease-out, color .4s ease-out","-moz-transition":"opacity .4s ease-out, color .4s ease-out","-ms-transition":"opacity .4s ease-out, color .4s ease-out","-o-transition":"opacity .4s ease-out, color .4s ease-out",transition:"opacity .4s ease-out, color .4s ease-out",color:"rgba(255,255,255,1)"});$;e==1?$(".home .homeTitle "+o+" span:last-of-type").css({opacity:"1"}).delay(200).queue(function(){$(this).css({color:"rgba(255,255,255,1)"})}):e==3?$(".home .homeTitle "+o+" span:last-of-type").css({opacity:"1"}).delay(200).queue(function(){$(this).css({color:"rgba(255,255,255,.8)"})}):$(".home .homeTitle "+o+" span:last-of-type").css({opacity:"1"}).delay(200).queue(function(){$(this).css({color:"rgba(255,255,255,.4)"})});if(e=="0"&&t[e][r]=="o")setTimeout(function(){r++;if(r<t[e].length)s(e,r);else{r=0;e++;if(e<t.length)if(e==1){e++;i(e,r)}else i(e,r);else e>=t.length&&n()}},1e3);else{r++;if(r<t[e].length)s(e,r);else{r=0;e++;e<t.length?i(e,r):e>=t.length&&n()}}},70)}s(e,r)}$(this).html("<p></p><h1></h1><p></p><h2></h2>");var e=0,r=0;i(r,e)});var r=0;for(var i=1;i<=$(".works .mainNav li").size();i++)r=r+$(".works .mainNav li:nth-child("+i+") a").width()+26;var s=0;for(var i=1;i<=$(".home .homeMenu li").size();i++)s=s+$(".home .homeMenu li:nth-child("+i+") a").width()+26;$(".home .homeMenu").css("width",s);$(".works .mainNav").css("width",r)});