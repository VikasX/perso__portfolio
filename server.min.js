// Set-up ===============================================================================
var express=require("express"),app=express(),compression=require("compression"),oneDay=864e5,mongoose=require("mongoose"),db=require("./config/db"),port=process.env.PORT||8080,path=require("path"),morgan=require("morgan"),bodyParser=require("body-parser"),methodOverride=require("method-override");mongoose.connect(db.url);app.use(express.static(path.join(__dirname,"/public")));app.use(morgan("dev"));app.use(bodyParser.urlencoded({extended:"true"}));app.use(bodyParser.json());app.use(bodyParser.json({type:"application/vnd.api+json"}));app.use(methodOverride());app.get("*",function(e,t){t.sendFile(path.join(__dirname,"/public","index.html"));t.sendFile("index.html",{root:path.join(__dirname,"/public")})});app.listen(port);console.log("App listening on port **"+port+"**");