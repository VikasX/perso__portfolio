/**
 * svgLoader.js v1.0.0
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * Copyright 2014, Codrops
 * http://www.codrops.com
 */(function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,n){this.el=e;this.options=t({},this.options);t(this.options,n);this._init()}n.prototype.options={speedIn:500,easingIn:mina.linear};n.prototype._init=function(){var e=Snap(this.el.querySelector("svg"));this.path=e.select("path");this.initialPath=this.path.attr("d");var t=this.el.getAttribute("data-opening");this.openingSteps=t?t.split(";"):"";this.openingStepsTotal=t?this.openingSteps.length:0;if(this.openingStepsTotal===0)return;var n=this.el.getAttribute("data-closing")?this.el.getAttribute("data-closing"):this.initialPath;this.closingSteps=n?n.split(";"):"";this.closingStepsTotal=n?this.closingSteps.length:0;this.isAnimating=!1;this.options.speedOut||(this.options.speedOut=this.options.speedIn);this.options.easingOut||(this.options.easingOut=this.options.easingIn)};n.prototype.show=function(){if(this.isAnimating)return!1;this.isAnimating=!0;var e=this,t=function(){classie.addClass(e.el,"pageload-loading")};this._animateSVG("in",t);classie.add(this.el,"show")};n.prototype.hide=function(){var e=this;classie.removeClass(this.el,"pageload-loading");this._animateSVG("out",function(){e.path.attr("d",e.initialPath);classie.removeClass(e.el,"show");e.isAnimating=!1})};n.prototype._animateSVG=function(e,t){var n=this,r=0,i=e==="out"?this.closingSteps:this.openingSteps,s=e==="out"?this.closingStepsTotal:this.openingStepsTotal,o=e==="out"?n.options.speedOut:n.options.speedIn,u=e==="out"?n.options.easingOut:n.options.easingIn,a=function(e){if(e>s-1){t&&typeof t=="function"&&t();return}n.path.animate({path:i[e]},o,u,function(){a(e)});e++};a(r)};e.SVGLoader=n})(window);